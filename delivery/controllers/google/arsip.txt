func (cont *Controller) GoogleCallback() echo.HandlerFunc {
	return func(c echo.Context) error {
		state := c.Request().URL.Query()["state"][0]
		// log.Info(state)
		if state != "randomstate" {
			return c.JSON(http.StatusBadRequest, templates.BadRequest(nil, "error cookie "+state, nil))
		}

		// var err =api.ReadCookie(c)
		// log.Info(err)
		// if err != nil {
		// 	return c.JSON(http.StatusBadRequest, templates.BadRequest(nil, "error in callback "+err.Error(), nil))
		// }

		// code := c.Request().URL.Query()["code"][0]

		data, _, err := api.GetUserDataFromGoogle(c.FormValue("code"), cont.conf)
		if err != nil {
			return c.JSON(http.StatusBadRequest, templates.BadRequest(nil, "error in callback "+err.Error(), nil))
		}

		// data = json.Marshal()

		var user UserInfo

		if err := json.Unmarshal(data, &user); err != nil {
			return c.JSON(http.StatusBadRequest, templates.BadRequest(nil, "error convert to struct "+err.Error(), nil))
		}
		// log.Info(user)
		return c.JSON(http.StatusOK, templates.Success(nil, "success callback", user))
	}
}